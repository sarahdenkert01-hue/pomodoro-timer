<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Soft Glow Orb Pomodoro</title>
<style>
  body {
    background: #EBECED;
    display: flex;
    justify-content: center;
    align-items: center;
    height: 100vh;
    margin: 0;
    font-family: "Inter", sans-serif;
  }

  .container {
    text-align: center;
    position: relative;
  }

  .orb {
    width: 80px;
    height: 80px;
    border-radius: 50%;
    background: radial-gradient(circle, #fff9c4 40%, #c8e6c9 100%);
    box-shadow: 0 0 30px #fff9c4;
    transition: width 0.3s ease, height 0.3s ease, box-shadow 0.3s ease;
    margin: 0 auto;
  }

  .time-label {
    margin-top: 12px;
    font-size: 1rem;
    color: #333;
  }

  .controls {
    margin-top: 20px;
    display: flex;
    justify-content: center;
    gap: 10px;
  }

  button {
    background: #222;
    color: #fff;
    border: none;
    border-radius: 50px;
    padding: 6px 12px;
    cursor: pointer;
    font-size: 0.85rem;
  }

  button:hover {
    background: #444;
  }

  @keyframes glow {
    0% { box-shadow: 0 0 10px #fff9c4; }
    50% { box-shadow: 0 0 50px #fff9c4; }
    100% { box-shadow: 0 0 10px #fff9c4; }
  }
</style>
</head>
<body>
  <div class="container">
    <div class="orb" id="orb"></div>
    <div class="time-label" id="timeLabel">Focus • 25:00</div>
    <div class="controls">
      <button onclick="startFocus()">Focus</button>
      <button onclick="startBreak()">Break</button>
      <button onclick="resetTimer()">Reset</button>
    </div>
  </div>

<script>
let focusDuration = 25 * 60; // 25 min
let breakDuration = 5 * 60;  // 5 min
let timer;
let remainingTime = focusDuration;
let mode = "focus";
const orb = document.getElementById("orb");
const timeLabel = document.getElementById("timeLabel");

function updateDisplay() {
  const mins = Math.floor(remainingTime / 60);
  const secs = remainingTime % 60;
  timeLabel.textContent = `${mode === "focus" ? "Focus" : "Break"} • ${String(mins).padStart(2,"0")}:${String(secs).padStart(2,"0")}`;
}

function startFocus() {
  clearInterval(timer);
  mode = "focus";
  remainingTime = focusDuration;
  animateOrb(remainingTime);
  timer = setInterval(runTimer, 1000);
}

function startBreak() {
  clearInterval(timer);
  mode = "break";
  remainingTime = breakDuration;
  animateOrb(remainingTime);
  timer = setInterval(runTimer, 1000);
}

function resetTimer() {
  clearInterval(timer);
  remainingTime = focusDuration;
  mode = "focus";
  orb.style.width = "80px";
  orb.style.height = "80px";
  orb.style.boxShadow = "0 0 30px #fff9c4";
  updateDisplay();
}

function runTimer() {
  if (remainingTime > 0) {
    remainingTime--;
    updateDisplay();
    updateOrbSize();
  } else {
    clearInterval(timer);
    if (mode === "focus") startBreak();
    else startFocus();
  }
}

function animateOrb(totalTime) {
  orb.style.animation = "glow 6s ease-in-out infinite";
  orb.style.width = "80px";
  orb.style.height = "80px";
}

function updateOrbSize() {
  let totalTime = mode === "focus" ? focusDuration : breakDuration;
  let progress = 1 - remainingTime / totalTime;
  let minSize = 80;
  let maxSize = 160; // max orb diameter
  let size = minSize + (maxSize - minSize) * progress;
  orb.style.width = size + "px";
  orb.style.height = size + "px";

  // Update glow proportional to size
  let glow = size / 2;
  orb.style.boxShadow = `0 0 ${glow}px #fff9c4`;
}

// Initialize display
updateDisplay();
</script>
</body>
</html>
